# í”„ë¡œì íŠ¸ ë°ì´í„° ì ‘ê·¼ ê´€ë¦¬ API ê¸°ìˆ  ë¬¸ì„œ

## ğŸ“‹ ê°œìš”

í”„ë¡œì íŠ¸ ë°ì´í„° ì ‘ê·¼ ê´€ë¦¬ APIëŠ” í”„ë¡œì íŠ¸ ì°¸ì—¬ìê°€ í”„ë¡œì íŠ¸ì— í¬í•¨ëœ DICOM Study ë°ì´í„°ì— ëŒ€í•œ ì ‘ê·¼ ìƒíƒœë¥¼ ì¡°íšŒí•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” RESTful APIì…ë‹ˆë‹¤.

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

### Clean Architecture íŒ¨í„´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Presentation Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            ProjectDataAccessController                  â”‚ â”‚
â”‚  â”‚  - GET /api/projects/{id}/data-access                  â”‚ â”‚
â”‚  â”‚  - PUT /api/projects/{id}/data-access/{data_id}        â”‚ â”‚
â”‚  â”‚  - GET /api/projects/{id}/data-access/matrix           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Application Layer                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚            ProjectDataAccessUseCase                     â”‚ â”‚
â”‚  â”‚  - get_project_data_access()                           â”‚ â”‚
â”‚  â”‚  - update_data_access_status()                         â”‚ â”‚
â”‚  â”‚  - get_data_access_matrix()                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    DTOs                                 â”‚ â”‚
â”‚  â”‚  - ProjectDataAccessDto                                â”‚ â”‚
â”‚  â”‚  - ProjectDataAccessMatrixDto                          â”‚ â”‚
â”‚  â”‚  - UpdateDataAccessStatusRequest                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Domain Layer                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Entities                             â”‚ â”‚
â”‚  â”‚  - ProjectData                                         â”‚ â”‚
â”‚  â”‚  - ProjectDataAccess                                   â”‚ â”‚
â”‚  â”‚  - DataAccessStatus                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Repository Traits                      â”‚ â”‚
â”‚  â”‚  - ProjectDataRepository                               â”‚ â”‚
â”‚  â”‚  - ProjectDataAccessRepository                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                  Service Traits                         â”‚ â”‚
â”‚  â”‚  - ProjectDataService                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Infrastructure Layer                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Repository Implementations               â”‚ â”‚
â”‚  â”‚  - ProjectDataRepositoryImpl                           â”‚ â”‚
â”‚  â”‚  - ProjectDataAccessRepositoryImpl                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                Service Implementations                  â”‚ â”‚
â”‚  â”‚  - ProjectDataServiceImpl                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Database Layer                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    PostgreSQL                           â”‚ â”‚
â”‚  â”‚  - project_data table                                  â”‚ â”‚
â”‚  â”‚  - project_data_access table                           â”‚ â”‚
â”‚  â”‚  - data_access_status_enum                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### í…Œì´ë¸” êµ¬ì¡°

#### `project_data` í…Œì´ë¸”
```sql
CREATE TABLE project_data (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id UUID NOT NULL REFERENCES projects(id) ON DELETE CASCADE,
    study_uid VARCHAR(255) NOT NULL,
    patient_id VARCHAR(255) NOT NULL,
    patient_name VARCHAR(255) NOT NULL,
    study_date DATE,
    study_description TEXT,
    modality VARCHAR(50),
    series_count INTEGER DEFAULT 0,
    instance_count INTEGER DEFAULT 0,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);
```

#### `project_data_access` í…Œì´ë¸”
```sql
CREATE TABLE project_data_access (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_data_id UUID NOT NULL REFERENCES project_data(id) ON DELETE CASCADE,
    user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
    access_status data_access_status_enum NOT NULL DEFAULT 'PENDING',
    granted_by UUID REFERENCES users(id),
    granted_at TIMESTAMP WITH TIME ZONE,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
    UNIQUE(project_data_id, user_id)
);
```

#### `data_access_status_enum` ì—´ê±°í˜•
```sql
CREATE TYPE data_access_status_enum AS ENUM (
    'APPROVED',
    'DENIED', 
    'PENDING'
);
```

### ì¸ë±ìŠ¤
```sql
-- ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ì¸ë±ìŠ¤
CREATE INDEX idx_project_data_project_id ON project_data(project_id);
CREATE INDEX idx_project_data_study_uid ON project_data(study_uid);
CREATE INDEX idx_project_data_patient_id ON project_data(patient_id);
CREATE INDEX idx_project_data_access_user_id ON project_data_access(user_id);
CREATE INDEX idx_project_data_access_status ON project_data_access(access_status);
CREATE INDEX idx_project_data_access_project_data_id ON project_data_access(project_data_id);
```

## ğŸ”§ API ì—”ë“œí¬ì¸íŠ¸

### 1. ë°ì´í„° ì ‘ê·¼ ìƒíƒœ ì¡°íšŒ

**ì—”ë“œí¬ì¸íŠ¸**: `GET /api/projects/{project_id}/data-access`

**ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**:
- `page` (optional): í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `limit` (optional): í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20)
- `search` (optional): ê²€ìƒ‰ì–´ (study_uid, patient_id, patient_name)
- `user_search` (optional): ì‚¬ìš©ì ê²€ìƒ‰ì–´ (username, email)
- `status` (optional): ìƒíƒœ í•„í„° (APPROVED, DENIED, PENDING)

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "data": [
    {
      "id": "uuid",
      "project_data": {
        "id": "uuid",
        "study_uid": "1.2.840.113619.2.55.3.604688119.868.1234567890.1",
        "patient_id": "P001",
        "patient_name": "John Doe",
        "study_date": "2025-01-27",
        "study_description": "Chest X-ray",
        "modality": "CR",
        "series_count": 1,
        "instance_count": 1
      },
      "user": {
        "id": "uuid",
        "username": "john_doe",
        "email": "john@example.com",
        "full_name": "John Doe"
      },
      "access_status": "APPROVED",
      "granted_by": {
        "id": "uuid",
        "username": "admin",
        "email": "admin@example.com"
      },
      "granted_at": "2025-01-27T10:00:00Z",
      "created_at": "2025-01-27T09:00:00Z",
      "updated_at": "2025-01-27T10:00:00Z"
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "total_pages": 5
  }
}
```

### 2. ë°ì´í„° ì ‘ê·¼ ìƒíƒœ ìˆ˜ì •

**ì—”ë“œí¬ì¸íŠ¸**: `PUT /api/projects/{project_id}/data-access/{data_id}`

**ìš”ì²­ ë³¸ë¬¸**:
```json
{
  "access_status": "APPROVED"
}
```

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "id": "uuid",
  "project_data": {
    "id": "uuid",
    "study_uid": "1.2.840.113619.2.55.3.604688119.868.1234567890.1",
    "patient_id": "P001",
    "patient_name": "John Doe"
  },
  "user": {
    "id": "uuid",
    "username": "john_doe",
    "email": "john@example.com"
  },
  "access_status": "APPROVED",
  "granted_by": {
    "id": "uuid",
    "username": "admin",
    "email": "admin@example.com"
  },
  "granted_at": "2025-01-27T10:00:00Z",
  "updated_at": "2025-01-27T10:00:00Z"
}
```

### 3. ë°ì´í„° ì ‘ê·¼ ë§¤íŠ¸ë¦­ìŠ¤ ì¡°íšŒ

**ì—”ë“œí¬ì¸íŠ¸**: `GET /api/projects/{project_id}/data-access/matrix`

**ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°**:
- `page` (optional): í˜ì´ì§€ ë²ˆí˜¸ (ê¸°ë³¸ê°’: 1)
- `limit` (optional): í˜ì´ì§€ í¬ê¸° (ê¸°ë³¸ê°’: 20)
- `search` (optional): ê²€ìƒ‰ì–´
- `user_search` (optional): ì‚¬ìš©ì ê²€ìƒ‰ì–´

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "data": [
    {
      "project_data": {
        "id": "uuid",
        "study_uid": "1.2.840.113619.2.55.3.604688119.868.1234567890.1",
        "patient_id": "P001",
        "patient_name": "John Doe"
      },
      "user_access": [
        {
          "user": {
            "id": "uuid",
            "username": "john_doe",
            "email": "john@example.com"
          },
          "access_status": "APPROVED",
          "granted_at": "2025-01-27T10:00:00Z"
        }
      ]
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100,
    "total_pages": 5
  }
}
```

## ğŸ” ë³´ì•ˆ ë° ì¸ì¦

### ì¸ì¦ ìš”êµ¬ì‚¬í•­
- ëª¨ë“  API ì—”ë“œí¬ì¸íŠ¸ëŠ” JWT í† í° ì¸ì¦ì´ í•„ìš”í•©ë‹ˆë‹¤
- ì‚¬ìš©ìëŠ” í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ ì°¸ì—¬ìì—¬ì•¼ í•©ë‹ˆë‹¤

### ê¶Œí•œ ë¶€ì—¬
- í”„ë¡œì íŠ¸ ì°¸ì—¬ìë§Œ ë°ì´í„° ì ‘ê·¼ ìƒíƒœë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- í”„ë¡œì íŠ¸ ì°¸ì—¬ìë§Œ ìì‹ ì˜ ë°ì´í„° ì ‘ê·¼ ìƒíƒœë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

### ë°ì´í„° ë³´í˜¸
- ê°œì¸ì •ë³´(patient_id, patient_name)ëŠ” ì¸ì¦ëœ ì‚¬ìš©ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤
- ëª¨ë“  ë°ì´í„° ì ‘ê·¼ì€ ë¡œê·¸ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
- **Repository í…ŒìŠ¤íŠ¸**: ë°ì´í„° ì ‘ê·¼ ë¡œì§ ê²€ì¦
- **Service í…ŒìŠ¤íŠ¸**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦
- **Use Case í…ŒìŠ¤íŠ¸**: ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë¡œì§ ê²€ì¦
- **Controller í…ŒìŠ¤íŠ¸**: HTTP ìš”ì²­ ì²˜ë¦¬ ê²€ì¦

### í†µí•© í…ŒìŠ¤íŠ¸
- **API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸**: ì „ì²´ API í”Œë¡œìš° ê²€ì¦
- **ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™ í…ŒìŠ¤íŠ¸**: ì‹¤ì œ DB ì—°ë™ ê²€ì¦
- **í˜ì´ì§€ë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸**: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ê²€ì¦
- **ê²€ìƒ‰ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸**: ê²€ìƒ‰ ë¡œì§ ê²€ì¦

### ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- **ì‘ë‹µ ì‹œê°„ í…ŒìŠ¤íŠ¸**: API ì‘ë‹µ ì‹œê°„ ì¸¡ì •
- **ë™ì‹œì„± í…ŒìŠ¤íŠ¸**: ë™ì‹œ ìš”ì²­ ì²˜ë¦¬ ê²€ì¦
- **ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í…ŒìŠ¤íŠ¸**: ë©”ëª¨ë¦¬ íš¨ìœ¨ì„± ê²€ì¦

## ğŸ“Š ì„±ëŠ¥ ìµœì í™”

### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”
- **ì¸ë±ìŠ¤ í™œìš©**: ìì£¼ ì‚¬ìš©ë˜ëŠ” ì»¬ëŸ¼ì— ì¸ë±ìŠ¤ ìƒì„±
- **ì¿¼ë¦¬ ìµœì í™”**: N+1 ë¬¸ì œ í•´ê²° ë° íš¨ìœ¨ì ì¸ ì¿¼ë¦¬ ì‘ì„±
- **ì—°ê²° í’€**: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í’€ ìµœì í™”

### ì• í”Œë¦¬ì¼€ì´ì…˜ ìµœì í™”
- **í˜ì´ì§€ë„¤ì´ì…˜**: ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬
- **ìºì‹±**: ìì£¼ ì ‘ê·¼í•˜ëŠ” ë°ì´í„° ìºì‹±
- **ë¹„ë™ê¸° ì²˜ë¦¬**: I/O ì‘ì—…ì˜ ë¹„ë™ê¸° ì²˜ë¦¬

## ğŸš€ ë°°í¬ ë° ìš´ì˜

### í™˜ê²½ ë³€ìˆ˜
```bash
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DATABASE_URL=postgresql://user:password@localhost:5432/pacs_db

# ì„œë²„ ì„¤ì •
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ë¡œê¹… ì„¤ì •
RUST_LOG=info
```

### Docker ë°°í¬
```dockerfile
FROM rust:1.75 as builder
WORKDIR /app
COPY . .
RUN cargo build --release

FROM debian:bookworm-slim
RUN apt-get update && apt-get install -y ca-certificates
COPY --from=builder /app/target/release/pacs-server /usr/local/bin/
CMD ["pacs-server"]
```

### ëª¨ë‹ˆí„°ë§
- **ë¡œê·¸ ëª¨ë‹ˆí„°ë§**: êµ¬ì¡°í™”ëœ ë¡œê·¸ë¥¼ í†µí•œ ëª¨ë‹ˆí„°ë§
- **ë©”íŠ¸ë¦­ ìˆ˜ì§‘**: API ì‘ë‹µ ì‹œê°„, ì—ëŸ¬ìœ¨ ë“± ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- **ì•Œë¦¼ ì„¤ì •**: ì—ëŸ¬ ë°œìƒ ì‹œ ì•Œë¦¼ ì„¤ì •

## ğŸ”„ í™•ì¥ì„±

### ìˆ˜í‰ì  í™•ì¥
- **ë¡œë“œ ë°¸ëŸ°ì‹±**: ì—¬ëŸ¬ ì¸ìŠ¤í„´ìŠ¤ ê°„ ë¡œë“œ ë¶„ì‚°
- **ë°ì´í„°ë² ì´ìŠ¤ ìƒ¤ë”©**: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ë¥¼ ìœ„í•œ ìƒ¤ë”©
- **ìºì‹œ í´ëŸ¬ìŠ¤í„°**: Redis í´ëŸ¬ìŠ¤í„°ë¥¼ í†µí•œ ìºì‹œ í™•ì¥

### ìˆ˜ì§ì  í™•ì¥
- **ë¦¬ì†ŒìŠ¤ ì¦ì„¤**: CPU, ë©”ëª¨ë¦¬ ì¦ì„¤
- **ë°ì´í„°ë² ì´ìŠ¤ íŠœë‹**: ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ íŠœë‹
- **ì• í”Œë¦¬ì¼€ì´ì…˜ ìµœì í™”**: ì½”ë“œ ìµœì í™” ë° ì„±ëŠ¥ ê°œì„ 

## ğŸ“š ì°¸ê³  ìë£Œ

- [Rust ê³µì‹ ë¬¸ì„œ](https://doc.rust-lang.org/)
- [Actix-web ë¬¸ì„œ](https://actix.rs/)
- [SQLx ë¬¸ì„œ](https://docs.rs/sqlx/)
- [Utoipa ë¬¸ì„œ](https://docs.rs/utoipa/)
- [Clean Architecture](https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html)
